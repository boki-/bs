<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>BullScript by mxcl</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">BullScript</h1>
        <p class="header">JavaScript with less bull.</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/mxcl/bs/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/mxcl/bs/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/mxcl/bs">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/mxcl">mxcl</a></p>


      </header>
      <section>
        <h1>BullScript</h1>

<p>BullScript is yet another language that compiles to Javascript.</p>

<p>Well actually not really. BullScript <em>is</em> Javascript. Javascript with a little
syntactic sugar to get rid of the rough edges. You still must write
Javascript, you still must use curly-braces, you still must put paranthesis
around your function parameters. But we have added a little sugar so that
some of the bigger pains in the language are much nicer.</p>

<p>At the end of your BullScript day, you are still writing Javascript, not
something else that is “better”.</p>

<h1>Alpha Quality</h1>

<p>The test-suite no doubt has holes. So you may have to fix some bugs if you use
it at this stage. But, we’re actively developing BS, so hgopefully its quality
will rapidly improve.</p>

<h1>Examples</h1>

<h2>Inline HTML</h2>

<div class="highlight"><pre><span class="cm">/** This bs: **/</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">div</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"abc"</span><span class="o">&gt;</span>
            <span class="nx">Hello</span> <span class="o">&lt;</span><span class="nx">a</span> <span class="nx">href</span><span class="o">=</span><span class="s1">'#{href}'</span><span class="o">&gt;</span><span class="err">#</span><span class="p">{</span><span class="nx">name</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/a&gt;, sup?</span>
          <span class="o">&lt;</span><span class="err">/div&gt;;</span>

<span class="cm">/** Becomes this js: **/</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'&lt;div class="abc"&gt; '</span><span class="o">+</span>
              <span class="s1">'Hello &lt;a href="'</span> <span class="o">+</span> <span class="nx">href</span> <span class="o">+</span> <span class="s1">'"&gt;'</span> <span class="o">+</span> <span class="nx">name</span> <span class="o">+</span> <span class="s1">'&lt;/a&gt;, sup? '</span><span class="o">+</span>
            <span class="s1">'&lt;/div&gt;'</span><span class="p">);</span>
</pre></div>

<p>It’s time to stop writing your HTML5 applications across multiple files.</p>

<h2>Variable Substitution</h2>

<div class="highlight"><pre><span class="cm">/** bs **/</span> <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="s2">"Hello #{name}, ‘sup?"</span><span class="p">;</span>
<span class="cm">/** js **/</span> <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="s2">"Hello "</span> <span class="o">+</span> <span class="nx">name</span> <span class="o">+</span> <span class="s2">", ‘sup?"</span><span class="p">;</span>
</pre></div>

<h2>Multiline Strings</h2>

<div class="highlight"><pre>  <span class="s2">"""Line one</span>
<span class="s2">     Line #{two}</span>
<span class="s2">     Line three"""</span>
</pre></div>

<p>Becomes:</p>

<div class="highlight"><pre>  <span class="s2">"Line one\n"</span><span class="o">+</span>
     <span class="s2">"Line "</span> <span class="o">+</span> <span class="nx">two</span> <span class="o">+</span> <span class="s2">"\n"</span><span class="o">+</span>
     <span class="s2">"Line three"</span>
</pre></div>

<h2>Fancy Escaping</h2>

<div class="highlight"><pre><span class="cm">/** bs **/</span> <span class="s2">"foo #n{bar} jee"</span>
<span class="cm">/** js* */</span> <span class="s2">"foo "</span> <span class="o">+</span> <span class="p">(</span><span class="nx">bar</span> <span class="o">||</span> <span class="s1">''</span><span class="p">)</span> <span class="o">+</span> <span class="s2">" jee"</span>
</pre></div>

<div class="highlight"><pre><span class="cm">/** bs **/</span> <span class="s2">"http://foo.com/#x{bar}/jee"</span>
<span class="cm">/** js **/</span> <span class="s2">"http://foo.com/"</span> <span class="o">+</span> <span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"/jee"</span>
</pre></div>

<p>In fact there is more to this: they call through to bs.js so that the escapes
are more useful. <code>#n{}</code> will output an empty string for <code>null</code> and
<code>undefined</code>, while <code>#N{}</code> will do so for empty Arrays, Objects and anything
that is <code>falsy</code>. <code>#x{}</code> does “pretty” escaping, ie. <code>encodeURIComponent</code> but
replacing <code>%20</code>s with <code>+</code>s, while <code>#N{}</code> does <em>full</em> escaping, that is
<code>encodeURIComponent</code> but it also encodes <code>!'()</code> which doesn’t hurt, but can
avoid certain categories of bug. If you want vanilla <code>encodeURIComponent</code> then
(currently) you’ll have to call it yourself.</p>

<h1>Using BullScript</h1>

<p>Currently we only have the compiler: <code>bsc</code>.</p>

<p>Using it in eg. Sinatra is thus (you will need to adapt paths):</p>

<div class="highlight"><pre><span class="n">get</span> <span class="s1">'/*.js'</span> <span class="k">do</span> <span class="o">|</span><span class="n">fn</span><span class="o">|</span>
  <span class="sb">`./bsc </span><span class="si">#{</span><span class="n">fn</span><span class="si">}</span><span class="sb">.js`</span>
<span class="k">end</span>
</pre></div>

<p>And when deploying just adapt your build-system to compile <code>bs</code> to <code>js</code>, eg.
for <code>make</code> here’s an implicit rule you can use:</p>

<div class="highlight"><pre><span class="nf">%.js</span><span class="o">:</span> <span class="m">%.bs</span>
    ./bsc <span class="nv">$&lt;</span> &gt; <span class="nv">$@</span>
</pre></div>

<h1>Inline HTML Caveats</h1>

<p>You have to cleanly terminate your HTML tags. This is how the parser
determines where HTML ends. So if you start with a <code>&lt;div&gt;</code> end with a <code>&lt;/div&gt;</code>.
Though having said this, we understand tags like <code>&lt;img&gt;</code> too. Also you can do
this:</p>

<div class="highlight"><pre><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">foo</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
        <span class="o">&lt;</span><span class="nx">b</span><span class="o">&gt;</span><span class="nx">blah</span><span class="o">&lt;</span><span class="err">/b&gt;</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
</pre></div>

<p>Additionally, (currently) the parser will be confused by JavaScript of this
kind:</p>

<div class="highlight"><pre><span class="k">if</span> <span class="p">(</span><span class="nx">a</span> <span class="o">&lt;</span><span class="nx">bc</span><span class="p">)</span> <span class="p">{</span> <span class="nx">bar</span><span class="p">();</span> <span class="p">}</span>
</pre></div>

<p>Heck, the above even breaks Sublime Text’s Markdown syntax highlighting.</p>

<h1>License</h1>

<p>I, Max Howell the copyright holder of this work, hereby release it into the
public domain. This applies worldwide.</p>

<p>In case this is not legally possible, I grant any entity the right to use this
work for any purpose, without any conditions, unless such conditions are
required by law.</p>
      </section>
      <footer>
        <p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
  </body>
</html>